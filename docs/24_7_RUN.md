# 24/7 draaien op de NUC (ook na sluiten terminal)

De Holding moet blijven draaien als je SSH of je terminal sluit. Twee manieren:

---

## 1. Via systemd (aanbevolen)

Dan beheert systemd de processen; ze overleven sluiten terminal en (optioneel) reboot.

```bash
cd ~/AI_HQ
systemctl --user start omega-holding.service
```

**Bij elke login automatisch starten:**

```bash
systemctl --user enable omega-holding.service
```

**24/7 ook zonder ingelogde gebruiker (na reboot):**

```bash
loginctl enable-linger $USER   # eenmalig
systemctl --user enable omega-holding.service
```

Daarna start de Holding na elke reboot, ook als je niet inlogt.

**Als grote_controle meldt: bridge draait niet of .env ontbreekt:**
- Zorg dat `~/AI_HQ/.env` bestaat (kopie van .env.example met echte TELEGRAM_BOT_TOKEN).
- Service opnieuw installeren (laadt .env): `cp ~/AI_HQ/scripts/omega-holding.service ~/.config/systemd/user/ && systemctl --user daemon-reload && systemctl --user start omega-holding.service`
- Of bridge direct herstarten: `cd ~/AI_HQ && ./scripts/stop_bridge_and_restart.sh`

**Stoppen:**

```bash
systemctl --user stop omega-holding.service
```

---

## 2. Via nohup (zonder systemd)

Als je geen systemd wilt gebruiken:

```bash
cd ~/AI_HQ
./scripts/start_24_7.sh
```

Of handmatig:

```bash
cd ~/AI_HQ
nohup bash -c './launch_factory.sh' >> logs/launch.log 2>&1 &
disown
```

Daarna mag je de terminal sluiten; de daemons blijven draaien (ze worden dan kind van init).

---

## Controleren of het 24/7-proof is

```bash
cd ~/AI_HQ
./scripts/grote_controle_alles.sh
```

Sectie **9. 24/7** toont of de daemons onder PID 1/systemd draaien. Zo ja, dan overleven ze het sluiten van SSH/terminal.
